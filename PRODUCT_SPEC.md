# FlowEco - מפרט מוצר מלא 📊💰

## 🎯 תיאור כללי
**FlowEco** - פלטפורמת ניהול פיננסי אישי מתקדמת בעברית עם יועץ AI, מותאמת למשתמשים ישראליים עם תמיכה מלאה בכרטיסי אשראי ומנויים.

---

## 🔧 מפרט טכני

### **Frontend Architecture**
- **Framework:** WordPress 6.4+ + Elementor Pro
- **Structure:** Single Page Application (SPA) style
- **Code Organization:** WPCodeBox Snippets (HTML/CSS/JS)
- **Mobile:** Responsive Design + PWA Support
- **Language:** Hebrew RTL Support
- **Performance:** Lazy Loading, Optimized Assets

### **Backend Architecture**
- **Platform:** Cloudflare Workers (Serverless)
- **Database:** Cloudflare D1 (SQLite-based)
- **Authentication:** Custom JWT-style tokens
- **Email Service:** Resend API
- **AI Service:** OpenAI GPT-4o-mini
- **File Storage:** Not implemented (future: R2)

### **Database Schema (D1)**
```sql
-- Core Tables
users, expenses, incomes, budgets, cards, categories
loans, installment_plans, subscriptions, subscription_providers
financial_goals, goal_contributions
feedback, user_errors, user_activity_log
verification_codes, budget_alert_log, excluded_recurring
```

---

## 📱 מפרט תכונות מלא

### **🔐 מערכת אימות**
- **רישום משתמש:** אימייל + סיסמה + אימות קוד
- **התחברות:** עם שמירת session
- **אבטחה:** Password hashing, JWT validation
- **אימות אימייל:** קודי אימות בן 6 ספרות (תוקף 10 דק)
- **שחזור סיסמה:** דרך קוד אימייל
- **מנגנון הרשאות:** משתמש רגיל / מנהל

### **🏠 Dashboard (דף הבית)**
#### **סיכום פיננסי חודשי**
- סה"כ הכנסות החודש
- סה"כ הוצאות החודש  
- יתרה נטו (הכנסות - הוצאות)
- אחוז חיסכון

#### **גרפים ויזואליים**
- גרף עמודות - הכנסות מול הוצאות (6 חודשים אחרונים)
- גרף עוגה - פילוח הוצאות לפי קטגוריה
- גרף קו - מגמת יתרה לאורך זמן

#### **תובנות AI**
- יועץ AI אישי בעברית
- המלצות מותאמות אישית
- ניתוח דפוסי הוצאה
- הצעות חיסכון

#### **קיצורי דרך**
- הוספת הוצאה מהירה
- הוספת הכנסה מהירה
- צפייה בתקציבים
- ניהול מנויים

### **💸 ניהול הוצאות**
#### **הוספת הוצאה**
- **שדות חובה:** סכום, קטגוריה, תאריך
- **שדות אופציונליים:** תיאור, אמצעי תשלום, כרטיס אשראי
- **קטגוריות:** 18 קטגוריות מוגדרות מראש + אישיות
- **אמצעי תשלום:** מזומן, כרטיס אשראי, העברה בנקאית, PayPal

#### **הוצאות קבועות (Recurring)**
- **תדירות:** חודשי, שבועי, שנתי
- **יצירה אוטומטית** של הוצאות עתידיות
- **ניהול חכם:** עצירה, שינוי תאריך סיום
- **מניעת כפילות** בהוצאות שנמחקו

#### **כרטיסי אשראי**
- **ניהול כרטיסים מרובים**
- **תאריך חיוב חודשי** מותאם
- **חישוב אוטומטי** של חודש החיוב
- **פילוח הוצאות** לפי כרטיס

#### **תכונות מתקדמות**
- **סינון וחיפוש** הוצאות
- **עריכה ומחיקה** של הוצאות
- **ייבוא/ייצוא** CSV (עתידי)
- **קבלות דיגיטליות** (עתידי)

### **💰 ניהול הכנסות**
#### **הוספת הכנסה**
- **שדות חובה:** סכום, מקור, תאריך
- **שדות אופציונליים:** תיאור, פרטים נוספים
- **מקורות הכנסה:** משכורת, בונוס, השקעות, מתנה, אחר

#### **הכנסות קבועות**
- **הכנסה חודשית** (משכורת) אוטומטית
- **בונוסים מתוכננים**
- **הכנסות פסיביות**

### **📊 תקציבים וביקורת**
#### **יצירת תקציבים**
- **תקציב לפי קטגוריה**
- **תקופות:** חודשי, שבועי, שנתי
- **מעקב התקדמות** בזמן אמת
- **התראות** כשעוברים סף (70%/80%/90%)

#### **מעקב תקציב**
- **אחוז ביצוע** של כל תקציב
- **יתרה** נותרת בתקציב
- **הצגה ויזואלית** - Progress bars
- **סטטוס צבעוני** (ירוק/כתום/אדום)

#### **התראות תקציב** ⚡ **חדש!**
- **התראות אימייל** אוטומטיות
- **הגדרת סף** התראה (70%/80%/90%)
- **התאמה אישית** לכל תקציב
- **חישוב נכון** לפי תאריך חיוב כרטיס
- **מניעת ספאם** - התראה אחת לחודש

### **🎯 יעדים פיננסיים**
#### **יצירת יעדים**
- **יעד חיסכון** (סכום + תאריך יעד)
- **קטגוריות:** חופשה, קניית רכב, דירה, וכו'
- **עדיפויות** והצבת סדר
- **אייקונים וצבעים** אישיים

#### **מעקב התקדמות**
- **התקדמות ויזואלית** (Progress bar)
- **הפקדות חלקיות**
- **חישוב זמן להשגת היעד**
- **התראות עדכון**

### **🔔 מנויים והתראות**
#### **ניהול מנויים**
- **מנויים רכים** (Netflix, Spotify, וכו')
- **תאריך חיוב חודשי**
- **התראות מראש** (3/7 ימים)
- **ניהול סטטוס** (פעיל/מושהה/מבוטל)

#### **ספקי מנויים מוכנים**
- **80+ ספקים פופולריים** עם לוגו וצבעים
- **הוספה מהירה** ממאגר
- **עדכון אוטומטי** של פרטים

#### **מערכת התראות**
- **מנויים עומדים להתחדש**
- **חריגות מתקציב**
- **יעדים שמתקרבים להשגה**
- **התראות אימייל מעוצבות**

### **💳 הלוואות ותשלומים**
#### **ניהול הלוואות**
- **פרטי הלוואה מלאים**
- **חישוב החזר חודשי**
- **מעקב יתרת חוב**
- **חישוב ריבית**
- **זמן להחזר מלא**

#### **תשלומים במזומן**
- **פירוט תשלומים**
- **תשלום ראשון ואחרון**
- **עמלות וריבית**
- **מעקב סטטוס**

### **⚙️ הגדרות מתקדמות**
#### **פרופיל אישי**
- **עריכת פרטים אישיים**
- **שינוי סיסמה**
- **העדפות שפה**
- **מחיקת חשבון**

#### **הגדרות התראות**
- **הפעלה/כיבוי** התראות כלליות
- **התראות תקציב** - הפעלה + סף
- **התראות מנויים** - מספר ימים מראש
- **שליחת מייל בדיקה**

#### **הגדרות מערכת**
- **מטבע ברירת מחדל** (₪/$/€)
- **פורמט תאריך**
- **גיבוי נתונים** (עתידי)
- **סנכרון בענן** (עתידי)

#### **קטגוריות מותאמות**
- **הוספת קטגוריות** אישיות
- **שינוי אייקונים וצבעים**
- **מחיקת קטגוריות**
- **איחוד קטגוריות**

### **🤖 יועץ AI מתקדם**
#### **ייעוץ אישי**
- **ניתוח דפוסי הוצאה**
- **המלצות חיסכון מותאמות**
- **זיהוי הוצאות חריגות**
- **תכנון תקציב עתידי**
- **אסטרטגיות השקעה בסיסיות**

#### **אינטראקציה טבעית**
- **צ'אט בעברית** טבעית
- **זכירת הקשר** מהשיחה
- **תובנות מותאמות** לנתונים האישיים
- **המלצות מעשיות**

### **📈 דוחות ואנליטיקה**
#### **דוח חודשי מפורט**
- **סיכום הכנסות והוצאות**
- **פילוח לפי קטגוריות**
- **השוואה לחודש הקודם**
- **מגמות ותחזיות**

#### **דוח שנתי**
- **סיכום כל השנה**
- **חודשים הטובים/רעים ביותר**
- **הישגי יעדים**
- **תכנון לשנה הבאה**

#### **דוחות מותאמים**
- **בחירת תקופה** חופשית
- **סינון לפי קטגוריה**
- **ייצוא לPDF/Excel** (עתידי)

### **📱 תכונות מובייל ו-PWA**
#### **אפליקציה מתקדמת**
- **התקנה במובייל** (PWA)
- **עבודה אופליין** חלקית
- **התראות Push** (עתידי)
- **מצלמה לקבלות** (עתידי)

#### **UX מובייל**
- **ניווט מותאם למגע**
- **טפסים מהירים**
- **הוספה מהירה** של הוצאות
- **ג'סטים ומקלדת מותאמת**

---

## 🔒 אבטחה ופרטיות

### **הגנת נתונים**
- **הצפנת סיסמאות** (SHA-256 + Salt)
- **אימות דו-שלבי** (2FA) בתכנון
- **הגנה מפני CSRF/XSS**
- **בקרת גישה מבוססת תפקידים**

### **גיבוי ושחזור**
- **גיבוי אוטומטי** של DB (Cloudflare D1)
- **שחזור נתונים** במקרה חירום
- **ייצוא נתונים אישי**

---

## 👨‍💼 פאנל מנהל (Admin)**

### **ניהול משתמשים**
- **רשימת כל המשתמשים**
- **סטטיסטיקות שימוש מפורטות**
- **מעקב פעילות אחרונה**
- **ניהול הרשאות ומנויים**

### **אנליטיקה מתקדמת**
- **סה"כ משתמשים וגידול**
- **שימוש בתכונות שונות**
- **שגיאות ובאגים**
- **ביצועי מערכת**

### **תמיכת לקוחות**
- **מערכת Feedback מובנית**
- **מעקב שגיאות משתמשים**
- **לוגים מפורטים**
- **כלי דיבוגינג**

---

## 🚀 Performance & Scale

### **מהירות וביצועים**
- **Cloudflare CDN גלובלי**
- **זמני טעינה < 2 שניות**
- **אופטימיזציה למובייל**
- **Lazy loading של נתונים**

### **יכולת התרחבות**
- **ארכיטקטורת Serverless**
- **Auto-scaling בענן**
- **בסיס נתונים מבוזר**
- **עד 100,000+ משתמשים**

---

## 🔄 API Documentation

### **Authentication Endpoints**
```
POST /api/register         - רישום משתמש חדש
POST /api/login           - התחברות משתמש
POST /api/auth/send-code  - שליחת קוד אימות
POST /api/auth/verify-code - אימות קוד
```

### **Core Data Endpoints**
```
GET/POST/PUT/DELETE /api/expenses     - ניהול הוצאות
GET/POST/PUT/DELETE /api/incomes      - ניהול הכנסות  
GET/POST/PUT/DELETE /api/budgets      - ניהול תקציבים
GET/POST/PUT/DELETE /api/cards        - ניהול כרטיסים
GET/POST/PUT/DELETE /api/categories   - ניהול קטגוריות
GET/POST/PUT/DELETE /api/loans        - ניהול הלוואות
GET/POST/PUT/DELETE /api/installments - ניהול תשלומים
GET/POST/PUT/DELETE /api/subscriptions - ניהול מנויים
```

### **Advanced Features**
```
POST /api/ai-chat              - יועץ AI
GET  /api/dashboard           - נתוני Dashboard
GET  /api/monthly-stats       - סטטיסטיקות חודשיות
GET/POST/PUT/DELETE /api/goals - יעדים פיננסיים
GET/PUT /api/user/settings    - הגדרות משתמש
POST /api/test-notification   - בדיקת התראות
```

### **Admin APIs**
```
GET /api/admin/stats          - סטטיסטיקות כלליות
GET /api/admin/users          - רשימת משתמשים
GET /api/admin/feedback       - משובי משתמשים
```

---

## 🎨 Design System

### **קלטת צבעים**
- **ראשי:** #667eea (כחול)
- **משני:** #764ba2 (סגול) 
- **הצלחה:** #10B981 (ירוק)
- **אזהרה:** #F59E0B (כתום)
- **שגיאה:** #EF4444 (אדום)
- **רקע:** #1E293B (כהה)

### **טיפוגרפיה**
- **פונט ראשי:** Segoe UI, Arial (עברית)
- **כותרות:** Bold, גדלים 24-48px
- **גוף:** Regular, 14-16px
- **כיוון:** RTL (ימין לשמאל)

---

## 📊 Business Metrics & KPIs

### **מטריקות מוצר**
- **DAU/MAU** (משתמשים פעילים)
- **Retention Rate** (שיעור החזרה)
- **Feature Adoption** (אימוץ תכונות)
- **Session Duration** (זמן שהייה)

### **מטריקות עסקיות**
- **Conversion Rate** (Free → Pro)
- **ARPU** (הכנסה ממוצעת למשתמש)
- **Churn Rate** (נטישה)
- **NPS** (שביעות רצון)

---

## 🚧 תכונות מתוכננות (גרסאות עתידיות)

### **מצב עסקי**
- 🏢 **ניהול עסק קטן** - הוצאות והכנסות עסקיות
- 📊 **דוחות מע"מ** לעצמאיים ופרילנסרים
- 👥 **ניהול לקוחות וספקים** מתקדם
- 🧾 **חשבוניות דיגיטליות** ומעקב תשלומים

### **תכונות מתקדמות**
- 🧾 **סריקת קבלות** באמצעות AI + OCR
- 🏪 **אינטגרציות בנקיות** (בנק לאומי, הפועלים)
- 📱 **אפליקציה מובייל** native (iOS/Android)
- 🔗 **API פתוח** לשילובים חיצוניים
- 📈 **תחזיות AI** מתקדמות
- 💼 **ניהול השקעות** בסיסי

### **שיפורי UX**
- 🎨 **ערכות נושא** מרובות
- 🌐 **תמיכה רב-לשונית** (אנגלית)
- 🔔 **התראות Push** במובייל
- 💬 **צ'אט תמיכה** מובנה
- 📋 **תבניות** להוצאות נפוצות

---

**FlowEco v1.0 - מוכן ללונץ' רשמי! 🚀**

*מפרט זה משקף את הגרסה הנוכחית - דצמבר 2025*
*גרסת בטא פעילה עם משתמשים ממשיים*